<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>號外之WHY | 標點符號專門報社</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;600;800&family=BIZ+UDPMincho&display=swap" rel="stylesheet">

    <style>
        /* --- 0. 色彩與字體規範 --- */
        :root {
            --color-primary: #444d6c;   /* 深藍 */
            --color-bg: #f7f6f4;        /* 米白背景 */
            --color-accent: #d8c197;    /* 金色 */
            
            --nav-width: 90px;          /* 左側導覽列寬度 */
            
            /* 字體 */
            --font-title: 'GenWanMin SB', '源雲明朝', 'Shippori Mincho', serif;
            --font-body: 'BIZ UDPMincho', serif; 
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--font-body);
            background-color: #5d6682; 
            color: var(--color-primary);
            
            /* --- 大氣留白設定 --- */
            line-height: 2.2;            
            letter-spacing: 2px;        
            
            padding-left: var(--nav-width); 
            background-image: radial-gradient(#6e7894 1px, transparent 1px);
            background-size: 20px 20px;
            overflow-x: hidden;
        }

        /* 文字段落設定 */
        p { margin-bottom: 2rem; text-align: justify; }
        h1, h2, h3, h4 { line-height: 1.6; margin-bottom: 1.5rem; }

        /* --- 1. 左側垂直導覽列 (Side Nav) --- */
        nav {
            position: fixed;
            top: 0; left: 0; 
            width: var(--nav-width); 
            height: 100vh;
            background-color: var(--color-primary);
            color: var(--color-bg);
            display: flex; flex-direction: column; align-items: center;
            z-index: 2000;
            box-shadow: 4px 0 15px rgba(0,0,0,0.3);
            border-right: 4px double var(--color-accent);
        }

        /* LOGO 區塊 */
        .nav-logo-container {
            flex-shrink: 0; width: 100%; height: 120px; 
            padding: 20px 10px;
            background-color: var(--color-primary);
            z-index: 2010;
            border-bottom: 1px dashed rgba(216, 193, 151, 0.3);
            display: flex; align-items: center; justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .nav-logo-container:hover {
            background-color: rgba(255,255,255,0.05);
        }

        .nav-logo-container img {
            width: 100%; height: auto; max-width: 70px;
            display: block; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        /* 按鈕連結區塊 */
        .nav-links-container {
            flex-grow: 1; width: 100%;
            overflow-y: auto; overflow-x: visible; 
            padding-top: 20px; padding-bottom: 20px;
            scrollbar-width: none; -ms-overflow-style: none;
        }
        .nav-links-container::-webkit-scrollbar { display: none; }

        /* 插頁標籤按鈕 */
        .nav-btn {
            background: transparent; border: none; color: #aab;
            font-family: var(--font-title); font-size: 1.1rem; cursor: pointer;
            padding: 25px 0; width: 100%; position: relative; 
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            writing-mode: vertical-rl; text-orientation: upright; letter-spacing: 3px;
            border-radius: 0 10px 10px 0; margin-bottom: 10px;
        }
        
        .nav-btn span {
            font-size: 0.6rem; margin-right: 8px; color: var(--color-accent);
            font-family: sans-serif; text-transform: uppercase; letter-spacing: 1px;
            writing-mode: vertical-rl; text-orientation: mixed; transform: rotate(180deg);
        }

        .nav-btn.active {
            background-color: var(--color-bg); color: var(--color-primary);
            font-weight: bold; width: 140%; 
            box-shadow: 5px 5px 15px rgba(0,0,0,0.2); z-index: 1001;
            border: 4px double var(--color-primary);
            border-left: 5px solid var(--color-bg); margin-left: 2px;
        }
        
        .nav-btn:hover:not(.active) {
            color: #fff; background-color: rgba(255,255,255,0.1);
        }

        /* --- 2. 復古報紙容器 --- */
        .newspaper-container {
            width: calc(100% - 60px); max-width: 1100px; margin: 40px auto; 
            background-color: var(--color-bg);
            background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');
            border: 4px double var(--color-primary);
            min-height: 90vh; padding-bottom: 80px;
            box-shadow: 10px 10px 40px rgba(0,0,0,0.4);
            position: relative; z-index: 1;
        }

        /* 報頭裝飾 */
        .header-deco {
            height: 4px;
            border-top: 1px solid var(--color-primary);
            border-bottom: 1px solid var(--color-primary);
            margin: 50px 40px;
        }

        /* 頁面切換效果 */
        .page-section { display: none; padding: 0 80px 60px 80px; animation: fadeIn 0.5s ease; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

        /* 一般標題 */
        .section-header {
            text-align: center; margin-bottom: 60px; position: relative;
            display: flex; flex-direction: column; align-items: center;
        }
        .section-header::before, .section-header::after {
            content: ''; position: absolute; top: 50%; width: 30%; height: 3px;
            border-top: 1px solid var(--color-primary); border-bottom: 1px solid var(--color-primary);
        }
        .section-header::before { left: 0; } .section-header::after { right: 0; }
        .section-title { font-family: var(--font-title); font-size: 2.2rem; color: var(--color-primary); background: var(--color-bg); padding: 0 30px; z-index: 1; }
        .section-subtitle { font-size: 0.75rem; letter-spacing: 5px; color: var(--color-accent); font-weight: bold; margin-top: 10px; font-family: sans-serif; text-transform: uppercase; background: var(--color-bg); padding: 0 15px; z-index: 1; }

        /* --- 3. Hero Slider --- */
        .hero-slider {
            position: relative; width: calc(100% - 80px); height: 500px;
            margin: 0 auto 80px auto; border: 4px double var(--color-primary);
            overflow: hidden;
        }
        .slide {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            opacity: 0; transition: opacity 1s;
        }
        .slide.active { opacity: 1; }

        /* --- 4. 內容樣式 --- */
        .blog-item {
            display: flex; gap: 40px; padding-bottom: 40px; margin-bottom: 40px;
            border-bottom: 1px dashed #ccc; cursor: pointer; transition: 0.3s;
        }
        .blog-item:hover { transform: translateX(10px); }
        .blog-date {
            min-width: 100px; text-align: center; border: 2px solid var(--color-primary);
            padding: 15px 0; height: fit-content; background: #fff;
        }
        .blog-date .day { font-size: 2rem; font-weight: bold; display: block; line-height: 1.2; }
        .blog-date .year { font-size: 0.9rem; margin-top: 5px; display: block; }

        /* --- 標點圖鑑樣式 --- */
        .punctuation-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr); 
            gap: 35px;
            margin-top: 40px;
        }

        .p-item {
            border: 2px solid var(--color-primary);
            background: #fff;
            padding: 20px;
            cursor: pointer;
            transition: transform 0.2s;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .p-item:hover {
            transform: translateY(-5px);
            box-shadow: 5px 5px 0 var(--color-accent);
        }

        .p-img-box {
            width: 100%;
            aspect-ratio: 1 / 1; 
            background-color: transparent; 
            overflow: hidden;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .p-img-box img {
            width: 100%; height: 100%; object-fit: contain; 
            transition: transform 0.3s ease;
        }
        .p-item:hover .p-img-box img { transform: scale(1.1); }

        .p-number {
            position: absolute; top: -12px; left: -12px;
            background: var(--color-primary); color: #fff;
            width: 35px; height: 35px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 50%; font-size: 0.9rem;
            border: 2px solid var(--color-bg);
        }
        /* --- 5. 產品展示 --- */
        #products { scroll-behavior: smooth; }

        .product-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
            gap: 40px; 
            padding: 20px 40px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .product-card {
            background-color: #fff; border: 1px solid #ccc;
            padding: 15px; position: relative; cursor: pointer;
            transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .product-card:hover {
            transform: translateY(-5px);
            border-color: var(--color-primary);
            box-shadow: 0 10px 25px rgba(68, 77, 108, 0.2);
        }
        .product-card.active-card {
            border: 2px solid var(--color-accent); 
            background-color: #fffbf0;
        }
        .product-card img { 
            width: 100%; height: 250px; object-fit: cover; 
            border-bottom: 2px solid #eee; margin-bottom: 15px;
        }
        .product-info h3 {
            font-family: var(--font-title); font-size: 1.4rem;
            color: var(--color-primary); text-align: center; margin-bottom: 10px;
        }
        .read-more-btn {
            display: block; width: 100%; padding: 8px 0; text-align: center;
            background: var(--color-bg); color: var(--color-primary);
            border: 1px solid var(--color-primary); font-size: 0.9rem;
            margin-top: 10px; transition: 0.2s;
        }
        .product-card:hover .read-more-btn {
            background: var(--color-primary); color: #fff;
        }

        /* --- 6. 詳情展開區 --- */
        #product-detail-view {
            display: none; width: 100%; background-color: #fffbf0;
            border-top: 4px double var(--color-primary);
            border-bottom: 4px double var(--color-primary);
            margin-top: 40px; padding: 60px 0; position: relative;
            background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');
            animation: unfold 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        @keyframes unfold {
            from { opacity: 0; transform: translateY(-20px); max-height: 0; }
            to { opacity: 1; transform: translateY(0); max-height: 2000px; }
        }

        .detail-close-btn {
            position: absolute; top: 20px; right: 40px;
            font-size: 1.5rem; width: 40px; height: 40px;
            border: 2px solid var(--color-primary); border-radius: 50%;
            color: var(--color-primary); display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s; background: #fff; z-index: 10;
        }
        .detail-close-btn:hover { background: var(--color-primary); color: #fff; }

        .detail-container {
            max-width: 1100px; margin: 0 auto; padding: 0 40px;
            display: grid; 
            grid-template-columns: minmax(300px, 1fr) minmax(300px, 1fr); 
            gap: 50px; align-items: start;
        }
        .detail-gallery { display: flex; flex-direction: column; gap: 15px; min-width: 0; }
        .detail-main-img {
            width: 100%; height: auto;
            border: 1px solid var(--color-primary);
            box-shadow: 5px 5px 0 rgba(0,0,0,0.1);
        }
        .detail-thumbs { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; }
        .d-thumb {
            width: 80px; height: 80px; object-fit: cover;
            border: 1px solid #ccc; cursor: pointer; opacity: 0.6; transition: 0.2s; flex-shrink: 0;
        }
        .d-thumb:hover, .d-thumb.active { opacity: 1; border: 2px solid var(--color-accent); }

        .detail-text { min-width: 300px; }
        .detail-text h2 {
            font-family: var(--font-title); font-size: 2.2rem;
            color: var(--color-primary); margin-bottom: 10px; line-height: 1.3;
        }
        .detail-meta {
            color: var(--color-accent); font-weight: bold; letter-spacing: 2px;
            margin-bottom: 30px; display: block; border-bottom: 1px solid #ccc; padding-bottom: 20px;
        }
        .detail-desc { font-size: 1rem; line-height: 2; text-align: justify; color: #444; }
        
        /* 關於我們頁面樣式 */
        .issue-block h4 {
            color: var(--color-primary); font-size: 1.4rem;
            border-left: 5px solid var(--color-accent); padding-left: 15px;
            margin-top: 40px; margin-bottom: 20px; font-family: var(--font-title);
        }
        .name-decode-container { display: flex; gap: 30px; margin: 50px 0; flex-wrap: wrap; }
        .decode-card {
            flex: 1; background: #fff; border: 2px solid var(--color-primary);
            padding: 30px; box-shadow: 5px 5px 0 var(--color-accent); min-width: 280px;
        }
        .decode-title {
            font-size: 2rem; font-weight: bold; color: var(--color-primary);
            border-bottom: 1px dashed #ccc; padding-bottom: 10px;
            margin-bottom: 20px; font-family: var(--font-title);
        }
        .team-container {
            margin-top: 60px; text-align: center;
            border-top: 4px double var(--color-primary); padding-top: 40px;
        }
        .team-grid { display: flex; justify-content: center; gap: 50px; margin-top: 40px; flex-wrap: wrap; }
        
        .flip-card {
            background-color: transparent; width: 250px; height: 380px;
            perspective: 1000px; cursor: pointer;
        }
        .flip-card-inner {
            position: relative; width: 100%; height: 100%;
            text-align: center; transition: transform 0.8s; transform-style: preserve-3d;
        }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back {
            position: absolute; width: 100%; height: 100%;
            -webkit-backface-visibility: hidden; backface-visibility: hidden;
            border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); overflow: hidden;
        }
        .flip-card-front {
            background-color: #444d6c; color: black;
            display: flex; align-items: center; justify-content: center;
            border: 2px solid var(--color-primary);
            background-image: url('LOGO.png');
            background-size: 60%; background-position: center; background-repeat: no-repeat;
        }
        .flip-card-back {
            background-color: #fff; color: white;
            transform: rotateY(180deg); border: 2px solid var(--color-primary);
        }
        .flip-card-back img { width: 100%; height: 100%; object-fit: cover; }

        footer {
            text-align: center; font-size: 0.9rem; margin-top: 80px;
            border-top: 4px double var(--color-primary); padding-top: 40px; color: #666;
        }
        footer p { text-align: center !important; margin-bottom: 20px; }

        /* Footer Social */
        .footer-social { margin-bottom: 20px; display: flex; justify-content: center; align-items: center; gap: 15px; }
        .social-link {
            display: flex; align-items: center; gap: 8px; color: var(--color-primary);
            text-decoration: none; font-weight: bold; font-size: 1rem;
            transition: all 0.3s ease; border-bottom: 1px solid transparent; padding-bottom: 2px;
        }
        .social-link:hover { color: var(--color-accent); border-bottom: 1px solid var(--color-accent); transform: translateY(-2px); }
        .ig-icon { width: 20px; height: 20px; fill: currentColor; }

        /* Modal Style */
        .modal {
            display: none; position: fixed; z-index: 3000; left: 0; top: 0;
            width: 100%; height: 100%; overflow: auto; 
            background-color: rgba(0,0,0,0.8); backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: #f7f6f4; margin: 5% auto; padding: 40px;
            border: 4px double var(--color-primary); width: 90%; max-width: 800px;
            position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            animation: modalPop 0.3s ease-out;
        }
        @keyframes modalPop { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .close-btn {
            color: var(--color-primary); position: absolute; top: 10px; right: 20px;
            font-size: 40px; font-weight: bold; cursor: pointer; transition: 0.2s; line-height: 1;
        }
        .close-btn:hover { color: var(--color-accent); }
        .modal-title { font-family: var(--font-title); color: var(--color-primary); border-bottom: 1px solid #ccc; padding-bottom: 15px; }

        /* ================================================= */
        /* ★★★ RWD 斷點設定 (手機與平板適配) ★★★ */
        /* ================================================= */

        /* 平板直向 (Tablet Portrait): 768px ~ 1024px */
        @media (max-width: 1024px) {
            .punctuation-grid { grid-template-columns: repeat(2, 1fr); } /* 圖鑑改為兩欄 */
            .newspaper-container { width: 95%; }
            .hero-slider { height: 400px; }
        }

        /* 手機 (Mobile): 768px 以下 */
        @media (max-width: 768px) {
            /* 身體 */
            body { 
                padding-left: 0; 
                padding-top: 60px;    /* 預留給頂部 Logo 列 */
                padding-bottom: 70px; /* 預留給底部導覽列 */
            }

            /* 導覽列容器 (變為底部) */
            nav { 
                width: 100%; height: 60px; top: auto; bottom: 0; 
                flex-direction: row; border-right: none; 
                border-top: 4px double var(--color-accent); 
                background: #fff; /* 防止透明穿透 */
            }
            
            /* Logo 區塊 (變為頂部固定列) */
            .nav-logo-container { 
                position: fixed; top: 0; left: 0;
                width: 100%; height: 60px;
                display: flex; /* 在手機上顯示 */
                border-bottom: 4px double var(--color-accent);
                background: var(--color-primary);
                padding: 10px;
            }
            .nav-logo-container img { max-height: 100%; width: auto; }

            /* 按鈕連結區塊 (變為底部橫向滑動) */
            .nav-links-container { 
                flex-direction: row; gap: 0; height: 100%; display: flex; padding: 0; width: 100%;
            }
            
            .nav-btn { 
                writing-mode: horizontal-tb; width: auto; flex: 1; padding: 0; 
                border-radius: 0; height: 100%; font-size: 0.9rem; margin: 0; 
                display: flex; align-items: center; justify-content: center; flex-direction: column;
            }
            .nav-btn span { display: none; } /* 手機版隱藏英文小字 */
            
            /* 點擊效果 */
            .nav-btn.active { 
                width: auto; height: 100%; border: none; 
                border-top: 4px solid var(--color-primary); 
                background-color: #eee; margin: 0; 
            }

            /* 內容容器 */
            .newspaper-container { width: 100%; margin: 20px 0; border-left: none; border-right: none; border-radius: 0; }
            .header-deco { margin: 30px 20px; }
            .section-header { margin-bottom: 40px; }
            
            /* 網格與排版 */
            .punctuation-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; } /* 手機保持兩欄較好看 */
            .product-grid { grid-template-columns: 1fr; padding: 20px; } /* 產品改為單欄 */
            .page-section { padding: 0 20px 40px 20px; }
            .hero-slider { width: 100%; height: 250px; } /* 輪播高度縮小 */

            /* 歷史沿革 Grid */
            #history > div { display: flex; flex-direction: column; gap: 30px; }
            #history img { position: static !important; } /* 取消 sticky */

            /* 關於我們 */
            .team-grid { gap: 30px; }
            
            /* 產品詳情 RWD */
            .detail-container { grid-template-columns: 1fr; gap: 30px; padding: 0 20px; }
            .detail-text { min-width: auto; }
            
            /* Modal 彈窗 RWD */
            .modal-content { width: 95%; margin: 15% auto; padding: 20px; }
            .close-btn { right: 10px; top: 5px; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="nav-logo-container" onclick="showPage('home')">
            <img src="LOGO.png" alt="Logo">
        </div>

        <div class="nav-links-container">
            <button class="nav-btn" onclick="showPage('about')">
                關於我們
                <span>ABOUT</span>
            </button>
            <button class="nav-btn" onclick="showPage('history')">
                標點史記
                <span>HISTORY</span>
            </button>
            <button class="nav-btn" onclick="showPage('archive')">
                標點圖鑑
                <span>ARCHIVE</span>
            </button>
            <button class="nav-btn" onclick="showPage('products')">
                產品展示
                <span>STORE</span>
            </button>
        </div>
    </nav>

    <div class="newspaper-container">
        
        <div class="header-deco"></div>

        <div id="home" class="page-section active">
            <div class="hero-slider">
                <div class="slide active" style="background-image: url('輪播1.png');"></div>
                <div class="slide" style="background-image: url('輪播2.jpg');"></div>
                <div class="slide" style="background-image: url('輪播3.png');"></div>
                <div class="slide" style="background-image: url('輪播4.png');"></div>
                <div class="slide" style="background-image: url('輪播5.png');"></div>
            </div>
            <div class="section-header">
                <div class="section-title">編輯室日誌</div>
                <span class="section-subtitle">BLOG</span>
            </div>

            <div class="blog-list">
                <div class="blog-item" onclick="openModal('blog1')">
                    <div class="blog-date"><span class="day">01</span><span class="year">2025/10</span></div>
                    <div>
                        <h3>【編輯室手記】從「逗留」出發：記初審那日的六個紅圈</h3>
                        <p style="color:#666;">回顧「逗留計畫」時期，從新潮漸變色到復古報刊的轉變...</p>
                    </div>
                </div>
                <div class="blog-item" onclick="openModal('blog2')">
                    <div class="blog-date"><span class="day">15</span><span class="year">2025/10</span></div>
                    <div>
                        <h3>【特刊】風格解密：為何捨棄新潮漸層？一段關於「號外」誕生的秘辛</h3>
                        <p style="color:#666;">為了撐起「標點符號觀測所」的設定，我們忍痛捨棄了原本的視覺稿...</p>
                    </div>
                </div>
                <div class="blog-item" onclick="openModal('blog3')">
                    <div class="blog-date"><span class="day">20</span><span class="year">2025/11</span></div>
                    <div>
                        <h3>【二審現場】當問號變得尖銳：一場關於「形狀心理學」的對話</h3>
                        <p style="color:#666;">小誌打樣與海報首次亮相！揭開符號背後的心理意象。</p>
                    </div>
                </div>
                <div class="blog-item" onclick="openModal('blog4')">
                    <div class="blog-date"><span class="day">19</span><span class="year">2026/01</span></div>
                    <div>
                        <h3>【編輯室手札】當星盤轉動時：我們在三審學到的「煎餅與飛鏢」互動哲學</h3>
                        <p style="color:#666;">三審過後，編輯室暫時放下了美工刀與膠水，開始拿起了筆記本規劃展場動線...</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="about" class="page-section">
            <div class="section-header">
                <div class="section-title">關於我們</div>
                <span class="section-subtitle">ABOUT</span>
            </div>
            
            <div style="max-width: 900px; margin: 0 auto;">
                <div style="background-color: rgba(255,255,255,0.6); padding: 40px; border: 1px solid var(--color-primary); text-align: center; margin-bottom: 60px;">
                    <h3 style="font-family:var(--font-title); font-size:2rem; margin-bottom:20px; color:var(--color-primary);">重拾語言的節奏</h3>
                    <p style="font-size: 1.2rem; font-weight: bold; color: var(--color-primary); margin-bottom: 0;">
                        「當我們重新審視標點符號，不僅是在回望語言的秩序，更是在探索溝通的本質。」
                    </p>
                </div>

                <div class="issue-block">
                    <h4>標點符號的式微與現況</h4>
                    <p>近期，越來越多文章顯示「數位化導致標點符號的應用面臨前所未有的挑戰」。追求效率與便利，導致大家無法透過標點符號建立對語句的共識。若長期忽略標點符號，將造成書寫與閱讀能力的全面衰退，這將會是從個人書寫習慣到整體社會溝通品質的全面影響。</p>
                    <h4>跨世代標點符號的語感錯位</h4>
                    <p>標點符號在年輕世代的語用轉變，早已成為社群討論中的老生常談。年輕人往往不再強調其正確使用，而是更傾向從「語氣」與「情境」去解讀標點符號的意涵與存在感。這樣的現象也反映教育對新世代數位書寫情境著墨不足，仍以傳統標點符號教學為主，而忽視了標點符號其實已逐漸轉化為情緒與語氣的載體。</p>
                </div>

                <div style="margin: 60px 0; text-align: center;">
                    <img src="標點符號再設計.png" alt="標點符號再設計概念圖" style="width: 100%; max-width: 800px; border: 2px solid var(--color-primary); padding: 10px; background: #fff;">
                    <p style="font-size: 0.9rem; color: #666; margin-top: 15px; text-align: center">▲ 標點符號再設計：知識趣味化 × 符號再造</p>
                </div>

                <div class="name-decode-container">
                    <div class="decode-card">
                        <div class="decode-title">號外</div>
                        <p>象徵突發且重要的事件，提醒人們這是一個不容忽視的議題。</p>
                        <p>在這裡，我們將其延伸為<strong>「探索標點符號的未知面」</strong>，發掘那些被日常忽略的驚奇。</p>
                    </div>
                    <div class="decode-card">
                        <div class="decode-title">WHY</div>
                        <p>承載著設計者的好奇心與批判性思考。</p>
                        <p>它提醒我們不斷追問、挖掘符號的新用途與社會意涵。用設計的方式去探問未知，並開啟更多元的詮釋路徑。</p>
                    </div>
                </div>

                <div class="team-container">
                    <h3 style="font-family:var(--font-title); font-size:1.8rem; color:var(--color-primary);">編輯部成員</h3>
                    <span style="font-size: 0.9rem; letter-spacing: 2px; color: var(--color-accent);">EDITORIAL TEAM</span>
                    
                    <div class="team-grid">
                        <div class="flip-card">
                            <div class="flip-card-inner">
                                <div class="flip-card-front"></div>
                                <div class="flip-card-back">
                                    <img src="瑋琳.png" alt="廖瑋琳">
                                </div>
                            </div>
                        </div>
                        <div class="flip-card">
                            <div class="flip-card-inner">
                                <div class="flip-card-front"></div>
                                <div class="flip-card-back">
                                    <img src="依如.png" alt="劉依如">
                                </div>
                            </div>
                        </div>
                    </div>
                    <p style="margin-top: 20px; font-size: 0.9rem; color: #888;text-align: center">( 滑鼠移至卡片查看成員 )</p>
                </div>
            </div>
        </div>

        <div id="history" class="page-section">
            <div class="section-header">
                <div class="section-title">標點史記</div>
                <span class="section-subtitle">HISTORY</span>
            </div>

            <div style="display:grid; grid-template-columns:1fr 2fr; gap:60px; align-items:start;">
                <div style="position: sticky; top: 120px;">
                    <img src="歷史沿革插圖.png" onerror="this.onerror=null;this.src='小誌介紹頁_封面.png'" style="width:100%; border:10px solid #fff; box-shadow:0 10px 20px rgba(0,0,0,0.2); transform:rotate(-2deg);">
                    <p style="text-align: center; font-size: 0.9rem; margin-top: 20px; color: #666; letter-spacing: 1px;">（ 歷史沿革示意圖 ）</p>
                </div>
                <div>
                    <div style="margin-bottom: 50px; padding: 30px; background: rgba(255,255,255,0.6); border-left: 6px solid var(--color-accent);">
                        
                        <p style="margin-bottom: 0; font-weight: bold; font-size: 1.1rem; color: #555;">
                            在沒有標點的古代，人們用語氣斷句，卻常一句千解。<br>
                            從甲骨的斜線到漢代朱砂點讀，再到近代十符誕生，標點一路從朗讀的氣口，成為語言裡最敏銳的情感與結構。
                        </p>
                    </div>

                    <h4 style="color:var(--color-primary); border-bottom: 1px solid #ccc; padding-bottom: 15px; margin-bottom: 30px; font-size: 1.4rem;">Phase 1. 混沌與萌芽</h4>
                    <p>在中國古代，文書中普遍不使用標點符號，而是依賴語感、語氣助詞與語法結構來進行斷句，這常導致語意模糊或歧義。</p>
                    <p>事實上，標點符號的雛形早可追溯至甲骨文時期，當時已有如斜線「/」這類用以表示停頓的符號；商周竹簡中也出現如「└」表示文章結尾的記號。</p>

                    <h4 style="color:var(--color-primary); border-bottom: 1px solid #ccc; padding-bottom: 15px; margin-bottom: 30px; margin-top: 60px; font-size: 1.4rem;">Phase 2. 句讀的成形</h4>
                    <p>簡單的標點符號形式直到漢朝才逐漸成形。當時以「句讀」為斷句依據，其中「句」指語意完整的一段，「讀」則指語意未完的停頓處，便以符號輔助朗讀與換氣。</p>
                    <p>人們會使用朱砂筆在停頓處點紅，常見符號包括「、」與「。」。這些符號的設計本意並非語法規範，而是服務於朗誦與理解。</p>

                    <h4 style="color:var(--color-primary); border-bottom: 1px solid #ccc; padding-bottom: 15px; margin-bottom: 30px; margin-top: 60px; font-size: 1.4rem;">Phase 3. 現代規範化</h4>
                    <p>直到近代，標點符號才從斷句工具轉向語法系統的雛形。隨著五四運動，標點符號逐漸成為語言表達中不可或缺的工具。</p>

                    <div style="margin: 80px 0 50px 0; border-top: 2px dashed var(--color-primary); position:relative; text-align:center;">
                        <span style="position:absolute; top:-15px; left:50%; transform:translateX(-50%); background:var(--color-bg); padding:0 15px; color:var(--color-accent); font-weight:bold; letter-spacing:2px; font-size:0.9rem;">WORLDVIEW 語宙觀</span>
                    </div>

                    <h3 style="color:var(--color-primary); margin-bottom:20px;">小行星 — 秩序的誕生</h3>
                    <p>在語言的宇宙裡，標點符號原本是閃爍於星海的小行星。它們沿著句法的引力前行，維持語意的軌道。</p>

                    <h3 style="color:var(--color-primary); margin-top:50px; margin-bottom:20px;">流星 — 語意的偏離</h3>
                    <p>當符號開始使用時，星體便墜入大氣層，成為美麗的流星，隨著標點符號的使用越多，流星便會聚煉成廣大的流星雨。</p>

                    <h3 style="color:var(--color-primary); margin-top:50px; margin-bottom:20px;">隕石 — 墜落與再生</h3>
                    <p>然而，當人們開始誤用、濫用，那些小行星便被語意的亂流捲入—偏離軌道，滑入混沌。它們拖著語氣的尾焰，閃爍、燃燒，化作碎裂的隕石。</p>
                </div>
            </div>
        </div>

        <div id="archive" class="page-section">
            <div class="section-header">
                <div class="section-title">標點圖鑑</div>
                <span class="section-subtitle">ARCHIVE</span>
            </div>
            <p style="text-align:center; color:var(--color-accent); font-weight:bold; margin-bottom:40px; letter-spacing: 2px;">★ 點擊符號可查看詳細檔案 ★</p>

            <div class="punctuation-grid" id="punctuationGrid"></div>
            
            <script>
                (function() {
                    const gridContainer = document.getElementById('punctuationGrid');
                    const marks = ["句號", "逗號", "頓號", "分號", "冒號", "問號", "驚嘆號", "引號", "夾注號", "破折號", "刪節號", "書名號", "專名號", "間隔號", "連接號"];
                    let htmlContent = '';
                    
                    for(let i=0; i<marks.length; i++) {
                        let num = (i+1).toString().padStart(2, '0');
                        let name = marks[i];
                        let thumbFile = "行星_" + name + ".png"; 
                        let modalFile = name + ".jpg"; 

                        htmlContent += `
                        <div class="p-item" onclick="openImageModal('${modalFile}', '${name}')">
                            <span class="p-number">${num}</span>
                            <div class="p-img-box">
                                <img src="${thumbFile}" alt="${name}" onerror="this.onerror=null;this.src='小誌介紹頁_封面.png'">
                            </div>
                            <div class="p-name">${name}</div>
                        </div>
                        `;
                    }
                    gridContainer.innerHTML = htmlContent;
                })();
            </script>
        </div>

        <div id="products" class="page-section">
            <div class="section-header">
                <div class="section-title">產品展示</div>
                <span class="section-subtitle">STORE</span>
            </div>
            
            <div class="product-grid">
                <div class="product-card" id="card-zine" onclick="toggleProduct('zine')">
                    <img src="輪播1.png" alt="小誌封面">
                    <div class="product-info">
                        <h3>小誌《號奇星聞》</h3>
                        <span class="read-more-btn">閱讀詳情 ▼</span>
                    </div>
                </div>

                <div class="product-card" id="card-boardgame" onclick="toggleProduct('boardgame')">
                    <img src="輪播3.png" alt="桌遊封面">
                    <div class="product-info">
                        <h3>桌遊《號外採訪室》</h3>
                        <span class="read-more-btn">閱讀詳情 ▼</span>
                    </div>
                </div>
            </div>

            <div id="product-detail-view">
                <div class="detail-close-btn" onclick="closeDetailView()">×</div>
                
                <div class="detail-container">
                    <div class="detail-gallery">
                        <img id="detailMainImg" class="detail-main-img" src="">
                        <div id="detailThumbs" class="detail-thumbs"></div>
                    </div>
                    
                    <div class="detail-text">
                        <h2 id="detailTitle">標題</h2>
                        <span id="detailMeta" class="detail-meta">類型</span>
                        <div id="detailDesc" class="detail-desc">內容...</div>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <div class="footer-social">
                <a href="https://www.instagram.com/hao.to.why?igsh=MXVjanl5N3oyOWpoMA==" target="_blank" class="social-link">
                    <svg class="ig-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                    Follow on Instagram
                </a>
            </div>

            <p>號外之WHY © 2025 畢業製作專題 | 國立高雄大學</p>
        </footer>
    </div>

    <div id="mainModal" class="modal">
        <div class="modal-content">
            <div class="close-btn" onclick="closeModal()">×</div>
            <div id="modalBody" class="modal-body"></div>
        </div>
    </div>

    <script>
        // 頁面切換
        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            // 移除所有按鈕的 Active 狀態
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            
            // 只有當按鈕觸發時才加 Active (Logo 點擊不觸發按鈕亮起)
            if(event && event.currentTarget.classList.contains('nav-btn')){
                event.currentTarget.classList.add('active');
            }
            
            window.scrollTo(0, 0);
        }

        // 輪播圖
        let slideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        function rotateSlides() {
            if(slides.length === 0) return;
            slides.forEach(s => s.classList.remove('active'));
            slideIndex = (slideIndex + 1) % slides.length;
            slides[slideIndex].classList.add('active');
        }
        setInterval(rotateSlides, 4000);

        // 圖片/文章 Modal
        function openImageModal(imgSrc, title) {
            const body = document.getElementById('modalBody');
            body.innerHTML = `<h2 class="modal-title" style="text-align:center; margin-bottom:30px;">${title}</h2><img src="${imgSrc}" style="width:100%;"><p style="text-align:center; margin-top:20px;">（圖片預覽）</p>`;
            document.getElementById('mainModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        const blogData = {
            'blog1': { 
                title: '【編輯室手記】從「逗留」出發：記初審那日的六個紅圈', 
                img: '一審.jpeg', 
                text: `
                    <p style="color:#888; font-weight:bold; margin-bottom:20px;">【本報訊 / 記者 號外小編 報導】</p>
                    <p>今天是個適合回憶的日子。在「號外之WHY」正式掛牌營業前，其實我們經歷過一段鮮為人知的「試刊號」時期——那時，我們的代號叫做「逗留計畫」。</p>

                    <h3 style="color:#444d6c; border-left:4px solid #d8c197; padding-left:10px; margin-top:30px;">消失的漸層色與初次提案</h3>
                    <p>回想起一審提案的那天，我們帶著對標點符號的初步構想站上台：一套尚未成形的桌遊、一本概念小誌，以及當時我們嘗試的「新潮漸變色」視覺風格。那時的我們，雖然還在摸索標點符號的具體再設計方向，但想把這件事做好的心情，卻是無比堅定的。</p>

                    <h3 style="color:#444d6c; border-left:4px solid #d8c197; padding-left:10px; margin-top:30px;">關鍵的一張小報</h3>
                    <p>為了讓老師們能瞬間進入我們的世界觀，編輯部在簡報前做了一個小小的心機決定：「既然要做報社，就直接發報紙吧！」我們趕製了一批實體小報，在提案前遞送到了每一位老師手中。</p>
                    <p>或許是紙張的觸感傳遞了我們的誠意，當我們結束報告時，黑板上留下了令人意外的驚喜——整整 6 個圈的好評！這六個圈對我們來說，不僅是成績上的肯定，更是讓我們有勇氣將「逗留計畫」進化為「號外之WHY」的關鍵動力。</p>
                ` 
            },
            'blog2': { 
                title: '【特刊】風格解密：為何捨棄新潮漸層？一段關於「號外」誕生的秘辛', 
                img: '主視覺.png', 
                text: `
                    <p style="color:#888; font-weight:bold; margin-bottom:20px;">【本報訊 / 主編 報導】</p>
                    <p>很多讀者在看到我們現在沈穩的「復古報紙」風格時，可能很難想像，其實幾個月前，我們可是走在流行尖端的「霓虹漸層派」。</p>

                    <h3 style="color:#444d6c; border-left:4px solid #d8c197; padding-left:10px; margin-top:30px;">從「逗留」到「號外」的腦力激盪</h3>
                    <p>一切的轉變，始於那個改名的午後。原本的專案名稱「逗留計畫」，希望能讓人們在標點符號間稍作停留；但經過編輯部無數次的腦力激盪，我們認為這還不夠——我們不只要停留，更要主動挖掘！</p>
                    <p>於是，「號外之WHY」 正式誕生。WHY 既是「外」的諧音，也代表我們對語言背後「為什麼」的無盡好奇。</p>

                    <h3 style="color:#444d6c; border-left:4px solid #d8c197; padding-left:10px; margin-top:30px;">視覺的急轉彎</h3>
                    <p>為了撐起「標點符號觀測所」這個帶有歷史考究與知識深度的設定，我們忍痛捨棄了原本的漸層視覺稿，轉而擁抱了現在這個結合「語宙藍」與「星光金」的復古報刊風格。這不僅是視覺的整型，更是一次靈魂的定裝。</p>
                ` 
            },
            'blog3': { 
                title: '【二審現場】當問號變得尖銳：一場關於「形狀心理學」的對話', 
                img: '二審.JPG', 
                text: `
                    <p style="color:#888; font-weight:bold; margin-bottom:20px;">【本報訊 / 記者 現場直擊】</p>
                    <p>隨著專案進入二審階段，編輯部終於將腦中的構想實體化——小誌《號奇星聞》的初次打樣以及主視覺海報，終於在本週正式亮相。</p>

                    <h3 style="color:#444d6c; border-left:4px solid #d8c197; padding-left:10px; margin-top:30px;">是引號還是逗號？一場視覺的猜謎遊戲</h3>
                    <p>展位現場人潮絡繹不絕，許多同學與導師都被這些「熟悉的陌生人」吸引駐足。最有趣的畫面，莫過於大家指著桌上的設計稿爭論：「這一定是引號吧？」「不，我覺得像逗號！」</p>
                    <p>過程中雖然有猜錯的尷尬，但更多的是恍然大悟的驚喜。這正是我們期待的互動——讓標點符號不再只是課本上的規範，而是可以被討論、被重新凝視的對象。</p>

                    <h3 style="color:#444d6c; border-left:4px solid #d8c197; padding-left:10px; margin-top:30px;">尖銳的問號，冰冷的句號</h3>
                    <p>「為什麼問號看起來這麼尖銳？」有讀者這樣問道。</p>
                    <p>在解說過程中，大家逐漸理解了我們的設計核心：視覺表徵即是心理意象。問號的尖銳，代表著質疑與突破；句號的冰冷，象徵著語氣的終止與冷靜。這些形狀並非隨意勾勒，而是大眾對於符號潛意識的具象化。看到大家眼裡閃爍著理解的光芒，是我們此行最大的收穫。</p>
                ` 
            }, // ★★★ 這裡補上了逗號，並新增了 blog4 資料 ★★★
            'blog4': { 
                title: '【編輯室手札】當星盤轉動時：我們在三審學到的「煎餅與飛鏢」互動哲學', 
                img: '三審.JPG', 
                text: `
                    <p style="color:#888; font-weight:bold; margin-bottom:20px;">【本報訊 / 記者 現場直擊】</p>
                    <p>隨著三審的結束，我們的畢業製作也正式跨過了一個巨大的里程碑。回頭看這幾個月，我們埋首於材質、結構、規則的打磨，終於在這次審查中，將小誌與桌遊的實體完整呈現出來。看著心中構想的畫面變成桌上真實可觸的物件，那份「主體完整了」的踏實感，是這次三審最大的收穫。</p>
                    <p>然而，設計的挑戰從來不會因為產品做完就結束。老師在審查時給予的建議，瞬間將我們從「製造者」的視角，拉到了「策展人」的高度。</p>

                    <h3 style="color:#444d6c; border-left:4px solid #d8c197; padding-left:10px; margin-top:30px;">轉動星盤時的意外收穫</h3>
                    <p>印象最深的一幕，是當老師拿起我們桌遊中的「星盤」輕輕轉動時，他開心地分享了一個童年故事。老師說，小時候路邊有個賣煎餅的攤子，生意非常好。但老闆不只是單純地叫賣煎餅，他在攤位旁邊擺了一組飛鏢。路過的人只要射飛鏢，就能換取煎餅的優惠或獎勵。</p>
                    <p>我們認識到「那個丟飛鏢的過程，就是最成功的互動。」大家為了那一刻的樂趣（飛鏢）停下腳步，進而接觸到了原本可能只是路過的產品（煎餅）。這個故事給了我們極大的震撼。</p>

                    <h3 style="color:#444d6c; border-left:4px solid #d8c197; padding-left:10px; margin-top:30px;">尋找我們的「飛鏢」</h3>
                    <p>如果說，我們耗費心力製作的桌遊、蘊含龐大資訊量的主題是那塊美味的「煎餅」；那麼，我們是否已經準備好那支能吸引觀眾停下腳步的「飛鏢」了呢？</p>
                    <p>這正是老師提醒我們接下來的課題：展場互動。在未來的展覽現場，觀眾不會有耐心直接閱讀幾千字的說明書。我們必須思考如何言簡意賅，設計出一套由淺入深的引導機制。也許是星盤的一次轉動，也許是一張直觀的卡牌，我們需要一個低門檻的互動，讓觀眾在「玩」的瞬間產生興趣，進而願意深入了解我們想傳達的複雜議題。</p>
                    <p>三審過後，編輯室暫時放下了美工刀與膠水，開始拿起了筆記本規劃展場動線。這一次，我們不只要把桌遊做好，更要把故事說好。如何把龐大的資訊量，轉化為直覺的體驗？如何讓觀眾像當年那個被飛鏢吸引的孩子一樣，眼中閃爍著好奇的光芒走向我們？</p>
                    <p>這將是我們在「煎餅」出爐後，最重要的首要任務。</p>
                ` 
            }
        };

        function openModal(id) {
            const data = blogData[id];
            if(!data) return;
            const body = document.getElementById('modalBody');
            body.innerHTML = `<h2 class="modal-title" style="text-align:center; margin-bottom:30px;">${data.title}</h2><img src="${data.img}" style="max-width:100%; display:block; margin:0 auto;"><div style="text-align:justify; padding:20px 0;">${data.text}</div>`;
            document.getElementById('mainModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('mainModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        window.onclick = function(event) { if (event.target == document.getElementById('mainModal')) closeModal(); }

        /* --- 產品功能 (下拉展開) --- */
        const productData = {
            'zine': {
                title: '小誌《號奇星聞》：重新定義閱讀的節奏',
                meta: 'ZINE / 平面設計',
                images: [
                    '輪播1.png', 
                    '輪播5.png'
                ],
                desc: `
                    <p><strong>【本報訊】</strong> 在數位訊息快速流動的時代，我們是否還記得閱讀紙本時，手指翻閱的觸感？《號奇星聞》不只是一本介紹標點符號的小誌，更是一份來自「語宙」的觀測報告。</p>
                    <p>設計團隊將15個常用的標點符號，轉化為獨具性格的「行星」。句號是冰冷的終結之星，逗號是拖著長尾巴的延續之星，驚嘆號則是充滿能量的爆發星系。</p>
                    <p>這本小誌適合所有熱愛文字、設計，以及對日常符號充滿好奇的地球人收藏。</p>
                `
            },
            'boardgame': {
                title: '桌遊《號外採訪室》：一場關於語氣的推理遊戲',
                meta: 'BOARD GAME / 桌上遊戲',
                images: [
                    '輪播3.png', 
                    '數字卡.png', 
                    '隕石卡.png', 
                    '事件卡.png', 
                    '星體卡.png'
                ],
                desc: `
            <p>在語言的浩瀚宇宙中，標點符號是一顆顆維繫語意秩序的星體。它們隱身於文字縫隙之間，掌控節奏、調和語氣、護衛情緒，使句子能順利運行、呼吸、發光。</p>
            <p>然而最近，這些標點星體開始出現異變——它們從句子軌道中脫離、逃逸、甚至神秘消失。語意紊亂的「無標點星域」逐漸擴張，讓原本清晰的訊息變得模糊、曖昧、甚至誤解重重。</p>
            <p>身為《號外之WHY》最機敏的採訪記者們，你們被召喚至「號外採訪室」。在這裡，你們必須憑藉直覺、判斷與語意敏銳度，追查標點星體失序的真相——不同標點的消失與錯置，將導致截然不同的故事走向與解讀模式。</p>
            <p>究竟，是誰或什麼力量攪動了語言宇宙？那些逃離句子的標點符號，又帶著什麼尚未揭露的心事？</p>
            <p style="font-weight:bold; color:var(--color-primary); margin-top:20px;">現在，就讓我們一起鑽入語言軌道，探索標點星體的秘密，重組語意、恢復秩序，見證一場前所未有的「無標點之旅」。</p>
        `
            }
        };

        let currentProductId = null; 

        function toggleProduct(productId) {
            const detailView = document.getElementById('product-detail-view');
            const cards = document.querySelectorAll('.product-card');
            
            cards.forEach(card => card.classList.remove('active-card'));
            document.getElementById('card-' + productId).classList.add('active-card');

            const data = productData[productId];
            document.getElementById('detailTitle').innerText = data.title;
            document.getElementById('detailMeta').innerText = data.meta;
            document.getElementById('detailDesc').innerHTML = data.desc;
            
            const mainImg = document.getElementById('detailMainImg');
            const thumbsDiv = document.getElementById('detailThumbs');
            mainImg.src = data.images[0];
            thumbsDiv.innerHTML = '';
            
            data.images.forEach((src, idx) => {
                let img = document.createElement('img');
                img.src = src;
                img.className = 'd-thumb' + (idx === 0 ? ' active' : '');
                img.onclick = function() {
                    mainImg.src = src;
                    document.querySelectorAll('.d-thumb').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                };
                thumbsDiv.appendChild(img);
            });

            if (detailView.style.display === 'block' && currentProductId === productId) {
                detailView.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                detailView.style.display = 'block';
                setTimeout(() => {
                    const yOffset = -20; 
                    const y = detailView.getBoundingClientRect().top + window.pageYOffset + yOffset;
                    window.scrollTo({top: y, behavior: 'smooth'});
                }, 100);
            }
            
            currentProductId = productId;
        }

        function closeDetailView() {
            document.getElementById('product-detail-view').style.display = 'none';
            document.querySelectorAll('.product-card').forEach(card => card.classList.remove('active-card'));
            currentProductId = null;
            document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>